(this.webpackJsonptableoid=this.webpackJsonptableoid||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r,c=n(0),a=n(1),o=n.n(a),i=n(9),s=n.n(i),l=(n(16),n(17),n(3)),u=n(2),d=n(8),j=n.n(d),f=n(10),b={Authorization:"Api-Key q3MNxtfep8Gt"},h=function(){var e=Object(f.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://code-challenge.spectrumtoolbox.com/api/restaurants",{headers:b});case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),r=n[0],c=n[1];0===r.length&&h().then((function(e){return c(e)}));var o=r.map((function(e){return e.genre=e.genre.replaceAll(",",", "),e}));return e&&""!==e&&(o=o.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())||t.city.toLowerCase().includes(e.toLowerCase())||t.genre.toLowerCase().includes(e.toLowerCase())}))),o},m=n.p+"static/media/tableoid.032f8441.png",C={siteContainer:{background:"url(".concat(m,") 50% 0% / contain no-repeat"),backgroundPosition:"center top",display:"flex",alignItems:"center",justifyContent:"center",height:"75vh",width:"100vw"},columnContainer:{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},fixedWidthContainer:{width:"75vw"},tableContainer:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",top:"25vh",maxWidth:"50vw"},fontHeader:{fontSize:18},bold:{fontWeight:"bolder"},horizontalFill:{display:"flex",alignItems:"center",justifyContent:"space-around",flexDirection:"row",width:"100%"},iconButton:{borderStyle:"none",borderWidth:0,backgroundColor:"transparent",padding:0,margin:0},table:{backgroundColor:"cornsilk"},searchInput:{width:250},searchContainer:{padding:5},hiddenButton:{border:"none",backgroundColor:"transparent"},smallIcon:{fontSize:8},fullWidthCell:{border:"none",width:"100%"}},p=function(e){var t=e.data,n=t.address1,r=t.attire,a=t.website;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:n}),Object(c.jsx)("td",{children:r}),Object(c.jsx)("td",{children:a})]})},x=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),r=n[0],o=n[1],i=e.updateSearchFilter;return Object(c.jsxs)("div",{style:C.searchContainer,children:[Object(c.jsx)("input",{style:C.searchInput,placeholder:"Search restaurants...",value:r,onChange:function(e){o(e.target.value),""===e.target.value&&i("")},onKeyDown:function(e){13===e.keyCode&&i(e.target.value)}}),Object(c.jsx)("button",{onClick:function(){return i(r)},children:Object(c.jsx)("i",{className:"fas fa-search"})})]})};!function(e){e[e.ASC=0]="ASC",e[e.DESC=1]="DESC",e[e.NONE=2]="NONE"}(r||(r={}));var g=n(5),v=function(e){var t=e.column,n=e.setColumnConfiguration,a=e.columnConfiguration,o="";switch(a.order){case r.ASC:o="fas fa-chevron-up";break;case r.DESC:o="fa-chevron-down";break;default:o="fa-chevron-right"}return Object(c.jsx)("th",{children:Object(c.jsxs)("div",{style:C.columnContainer,children:[t.name,t.sort?Object(c.jsx)("i",{onClick:function(){return function(){var e=r.NONE;switch(a.order){case r.ASC:e=r.NONE;break;case r.DESC:e=r.ASC;break;case r.NONE:e=r.DESC}n(Object(l.a)(Object(l.a)({},a),{},{column:t.accessor,order:e}))}()},style:{position:"relative",padding:5,top:2},className:"fas "+o}):null,t.filter?Object(c.jsx)("input",{onChange:function(e){return function(e){var r=a.filters.filter((function(e){return e.column!==t.accessor})),c=Object(l.a)(Object(l.a)({},a),{},{filters:[{column:t.accessor,filter:e}].concat(Object(g.a)(r))});n(c)}(e.target.value)}}):null]})})},w=function(e){var t=e.columns,n=e.row,r=e.expansionComponent,o=(e.rowIndex,Object(a.useState)(!1)),i=Object(u.a)(o,2),s=i[0],l=i[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("tr",{children:t.map((function(e,t){return Object(c.jsxs)("td",{children:[r&&0===t?Object(c.jsx)("button",{style:C.hiddenButton,onClick:function(){return l(!s)},children:Object(c.jsx)("i",{style:C.smallIcon,className:s?"fas fa-minus":"fas fa-plus"})}):null,"string"===typeof e.accessor?n[e.accessor]:e.accessor(n)]},t)}))}),s?r(n):null]})},y=function(e){var t=e.columns,n=e.data,o=e.defaultConfiguration,i=e.resultsPerPage,s=e.expansionComponent,d=Object(a.useState)(1),j=Object(u.a)(d,2),f=j[0],b=j[1],h=Object(a.useState)(o),O=Object(u.a)(h,2),m=O[0],p=O[1],x=Object(g.a)(n);""!==m.column&&m.order!==r.NONE&&x.sort((function(e,t){var n=m.column;return m.order===r.ASC?e[n].localeCompare(t[n]):t.name.localeCompare(e[n])}));var y=Object(g.a)(x);m.filters.forEach((function(e){y=y.filter((function(t){return t[e.column].toLowerCase().includes(e.filter.toLowerCase())}))}));var S=y.slice((f-1)*i,(f-1)*i+i),N=Math.ceil(y.length/i);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("table",{style:C.table,children:[Object(c.jsx)("thead",{children:Object(c.jsx)("tr",{children:t.map((function(e){return Object(c.jsx)(v,{setColumnConfiguration:p,columnConfiguration:m,column:e},e.name)}))})}),Object(c.jsx)("tbody",{children:S.map((function(e,n){return Object(c.jsx)(w,{expansionComponent:s,row:e,columns:t,rowIndex:n},n)}))})]}),Object(c.jsxs)("div",{style:Object(l.a)(Object(l.a)({},C.horizontalFill),{},{padding:5}),children:[Object(c.jsx)("button",{disabled:1===f,onClick:function(){b(f-1)},children:Object(c.jsx)("i",{className:"fas fa-chevron-left"})}),Object(c.jsxs)("p",{children:[f," of ",N]}),Object(c.jsx)("button",{disabled:f===N,onClick:function(){b(f+1)},children:Object(c.jsx)("i",{className:"fas fa-chevron-right"})})]})]})},S=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),o=n[0],i=n[1],s=O(o);return Object(c.jsxs)("div",{style:C.tableContainer,children:[Object(c.jsx)(x,{updateSearchFilter:function(e){return i(e)},search:o}),Object(c.jsx)(y,{resultsPerPage:10,columns:[{name:"Name",sort:!0,accessor:"name"},{name:"City",accessor:"city"},{name:"State",accessor:"state",filter:!0},{name:"Genre",accessor:"genre",filter:!0}],data:s,defaultConfiguration:{column:"name",order:r.ASC,filters:[]},expansionComponent:function(e){return Object(c.jsx)(p,{data:e})}})]})},N=function(e){return Object(c.jsx)("div",{style:C.siteContainer,children:e.children})},k=function(e){return Object(c.jsx)(N,{children:Object(c.jsx)("div",{style:Object(l.a)(Object(l.a)({},C.columnContainer),C.fixedWidthContainer),children:Object(c.jsx)(S,{})})})},E=function(e){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(k,{})})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))};s.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(E,{})}),document.getElementById("root")),I()}},[[19,1,2]]]);
//# sourceMappingURL=main.210e857e.chunk.js.map